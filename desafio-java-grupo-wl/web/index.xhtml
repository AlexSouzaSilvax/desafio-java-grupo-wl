<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui" xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:head>
        <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
        <title>helper</title>
    </h:head>

    <h:body>

        <p:growl id="growl" showDetail="true" sticky="true"><p:autoUpdate/></p:growl> 

        <div style="font-family: Arial;">

            <ui:composition template="Template.xhtml">

                <ui:define name="content">

                    <div style="
                         margin:50px; 
                         margin-top: 0;
                         padding-top: 0;
                         border-radius: 7px;
                         border: 0;                           
                         background-color: #FFFFFF70;
                         ">

                        <h:form id="frmLista" style="align-items: center; text-align: center; justify-content: center; width: 100%;">            

                            <h1 style="color:grey; text-align: center;">Cadastro de Usuários</h1>

                            <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-0,ui-grid-col-0" rendered="#{situacaoIgrController.tela == 0}"   >                           
                                <p:inputText value="#{situacaoIgrController.pesquisa}" style="width: 350px;" />
                                <p:commandButton value="Buscar" actionListener="#{situacaoIgrController.lista()}" update="listaPesquisa" />
                            </p:panelGrid>

                            <div class="Container100 Responsive100" style="align-items: center; text-align: center;">
                                <p:dataTable id="listaPesquisa" style="margin: 30px; padding: 30px; top: 0;" rendered="#{situacaoIgrController.tela == 0}" value="#{situacaoIgrController.listaS}" var="p" reflow="true" emptyMessage="Lista vazia" paginator="true" rows="30" rowsPerPageTemplate="30,60,120" >

                                    <p:column headerText="Tipo" sortBy="#{p.tipo}" width="70">
                                        <!--h:outputText value="#{p.tipo}" title="#{p.tipo}" /-->
                                        <p:commandLink style="color:black; font-family: Arial; font-size: 18px; text-decoration:none"  value="#{p.tipo}" title="#{p.tipo}" />
                                    </p:column>

                                    <p:column headerText="Cód. Igreja" sortBy="#{p.codIgr}" width="40">
                                        <!--h:outputText value="#{p.codIgr}" title="#{p.codIgr}" /-->
                                        <p:commandLink style="color:black; font-family: Arial; font-size: 18px; text-decoration:none" value="#{p.codIgr}" title="#{p.codIgr}" />
                                    </p:column>

                                    <p:column headerText="Cód. PJ" sortBy="#{p.codPj}" width="30">
                                        <!--h:outputText value="#{p.codPj}" title="#{p.codPj}" /-->
                                        <p:commandLink style="color:black; font-family: Arial; font-size: 18px; text-decoration:none" value="#{p.codPj}" title="#{p.codPj}" />
                                    </p:column>

                                    <p:column headerText="Nome" sortBy="#{p.nome}" width="200">
                                        <!--h:outputText value="#{p.nome}" title="#{p.nome}" /-->
                                        <p:commandLink style="color:black; font-family: Arial; font-size: 25px; text-decoration:none" value="#{p.nome}" title="#{p.nome}" />
                                    </p:column>

                                    <p:column headerText="Situação" sortBy="#{p.situacao}" width="100">
                                        <!--h:outputText value="#{p.situacao}" title="#{p.situacao}" />
                                        <p:commandLink style="color:black; font-family: Arial; font-size: 18px; text-decoration:none" value="#{p.situacao}" title="#{p.situacao}"  /-->

                                        <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank">

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank">
                                                <p:selectOneMenu id="situacao" value="#{p.situacao}" style="width:125px">                                                   
                                                    <f:selectItem itemLabel="Ativa" itemValue="A" />
                                                    <f:selectItem itemLabel="Inativa" itemValue="I" />
                                                </p:selectOneMenu>  
                                            </p:panelGrid>

                                            <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank">
                                                <p:commandButton value="Salvar" action="#{situacaoIgrController.salvar(p)}" update="frmLista" ajax="false" /> 
                                            </p:panelGrid>

                                        </p:panelGrid>

                                    </p:column>

                                </p:dataTable>
                            </div>            
                        </h:form>

                    </div>

                </ui:define>
            </ui:composition>

        </div>
    </h:body>
</html>